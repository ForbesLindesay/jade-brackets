<span class="cm-comment">//- see https://github.com/visionmedia/jade/issues/1589</span>

<span class="cm-punctuation">-</span><span class="cm-keyword">var</span> <span class="cm-variable">ajax</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>

<span class="cm-punctuation">-</span><span class="cm-keyword">if</span>( <span class="cm-variable">ajax</span> )
<span class="cm-indent">    </span><span class="cm-comment">//- return only contents if ajax requests</span>
<span class="cm-indent">    </span><span class="cm-keyword">block </span><span class="cm-variable">contents</span>
<span class="cm-indent">        </span><span class="cm-tag">p</span><span class="cm-string"> ajax contents</span>

<span class="cm-punctuation">-</span><span class="cm-keyword">else</span>
<span class="cm-indent">    </span><span class="cm-comment">//- return all html</span>
<span class="cm-indent">    </span><span class="cm-meta">doctype html</span>
<span class="cm-indent">    </span><span class="cm-tag">html</span>
<span class="cm-indent">        </span><span class="cm-tag">head</span>
<span class="cm-indent">            </span><span class="cm-tag">meta</span><span class="cm-punctuation">(</span><span class="cm-attribute"> charset</span><span class="cm-operator">=</span><span class="cm-string">&#39;utf8&#39;</span> <span class="cm-punctuation">)</span>
<span class="cm-indent">            </span><span class="cm-tag">title</span><span class="cm-string"> sample</span>
<span class="cm-indent">            </span><span class="cm-tag">body</span>
<span class="cm-indent">                </span><span class="cm-keyword">block </span><span class="cm-variable">contents</span>
<span class="cm-indent">                    </span><span class="cm-tag">p</span><span class="cm-string"> all contetns</span>
